(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();class r{x;y;radius;colour;constructor(e,n,s){this.x=e,this.y=n,this.radius=.2,this.colour=s}draw(e){e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2),e.fillStyle=this.colour,e.fill(),e.closePath()}}class p{palettes;currentPaletteIndex;constructor(e=0){this.palettes=[["#FFC3A0","#FF677D","#D4A5A5","#392F5A","#31A2AC"],["#F4E8C1","#A0C3D2","#7B8BAD","#545E75","#2E2D4D"],["#FAD0C9","#C8C8A9","#83AE9B","#698474","#4B4453"],["#E6E6FA","#D8BFD8","#DDA0DD","#DA70D6","#BA55D3"]],this.currentPaletteIndex=e}getCurrentPalette(){return this.palettes[this.currentPaletteIndex]}setCurrentPalette(e){e>=0&&e<this.palettes.length&&(this.currentPaletteIndex=e)}getRandomColor(){const e=this.getCurrentPalette();return e[Math.floor(Math.random()*e.length)]}}class f{vertices=[];currentPoint;constructor(e){this.currentPoint=e,this.defineVertices()}play(e){const n=[];for(let s=0;s<e;s++){const t=this.vertices[Math.floor(Math.random()*this.vertices.length)];this.currentPoint=new r((this.currentPoint.x+t.x)/2,(this.currentPoint.y+t.y)/2,"#000000"),n.push(this.currentPoint)}return n}}class m extends f{defineVertices(){this.vertices=[new r(400,50,"#FF0000"),new r(50,550,"#00FF00"),new r(750,550,"#0000FF")]}}class y extends f{defineVertices(){this.vertices=[new r(0,0,"#FF0000"),new r(0,600,"#00FF00"),new r(800,0,"#0000FF"),new r(800,600,"#FFFF00"),new r(400,300,"#FF00FF"),new r(200,300,"#00FFFF"),new r(600,300,"#FFA500"),new r(400,150,"#800080"),new r(400,450,"#008000"),new r(200,150,"#FFC0CB"),new r(600,150,"#FFFFE0"),new r(200,450,"#ADD8E6"),new r(600,450,"#D3D3D3")]}play(e){const n=[];for(let s=0;s<e;s++){const t=this.vertices[Math.floor(Math.random()*this.vertices.length)];this.currentPoint=new r((this.currentPoint.x+2*t.x)/3,(this.currentPoint.y+2*t.y)/3,"#000000"),n.push(this.currentPoint)}return n}}class F{vertices=[];currentPoint;rule;constructor(e,n){this.currentPoint=e,this.rule=n,this.defineVertices()}defineVertices(){const e=new p;this.vertices=[new r(0,0,e.getRandomColor()),new r(0,600,e.getRandomColor()),new r(800,600,e.getRandomColor()),new r(800,0,e.getRandomColor())]}setRule(e){this.rule=e}play(e){return this.rule.play(this.vertices,this.currentPoint,e)}}class g{play(e,n,s){const t=[];let o=Math.floor(Math.random()*e.length);for(let a=0;a<s;a++){let h=Math.floor(Math.random()*3)-1,c=(o+h+e.length)%e.length;o=c;const l=e[c];n=new r((n.x+l.x)/2,(n.y+l.y)/2,l.colour),t.push(n)}return t}}class C{play(e,n,s){const t=[];let o=-1,a=-1;for(let h=0;h<s;h++){let c=Math.floor(Math.random()*e.length);o!=-1&&o==a&&(c=Math.random()<.5?o:(a+2)%e.length),a=o,o=c;const l=e[c];n=new r((n.x+l.x)/2,(n.y+l.y)/2,l.colour),t.push(n)}return t}}const u=document.getElementById("ChaosGameCanvas"),P=u.getContext("2d");u.width=800;u.height=600;const d=new p,x=document.getElementById("palette-selector-container");d.palettes.forEach((i,e)=>{const n=document.createElement("div");n.classList.add("palette-option"),n.dataset.paletteIndex=e.toString(),i.forEach(s=>{const t=document.createElement("div");t.classList.add("color-swatch"),t.style.backgroundColor=s,n.appendChild(t)}),n.addEventListener("click",()=>{d.setCurrentPalette(e)}),x?.appendChild(n)});const D=new m(new r(400,300,"#000000"));D.play(1e5);const A=new y(new r(400,300,"#000000"));A.play(1e6);const E=new F(new r(400,300,"#000000"),new g);E.play(1e6);const v=new F(new r(400,300,"#000000"),new C),I=v.play(1e6);function w(){I.forEach(i=>{i.draw(P)}),requestAnimationFrame(w)}w();
